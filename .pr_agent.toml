[config]
git_provider = "github"
publish_output = true
publish_output_progress = true

# Scoring mapping (friendly 0–100 scale)
score_scale = 100
approve_score = 85
reject_score = 84

# Allow auto decisions based on score
enable_auto_approval = true
enable_auto_rejection = true

[github_app]
# Run automatically when PR is opened
handle_pr_actions = ["opened", "reopened", "ready_for_review", "draft"]

# Also allow manual triggers
pr_commands = [
  "/review",
  "/describe --pr_description.final_update_message=false",
  "/improve"
]

# Re-review behavior on pushes
handle_push_trigger = true
push_trigger_pending_tasks_ttl = 300


[pr_reviewer]
# Max review findings
num_max_findings = 5

# Always produce a numeric score in the review
require_score_review = true

# These enforce strong review scope
require_security_review = true
persistent_comment = false


# STRICT REVIEW STYLE
extra_instructions = """
Please use a **strict, critical, and formal tone** for the review. 
Your feedback must primarily focus on the following core areas: 
- clarity
- readability
- maintainability
- security
- complexity
"""

[pr_code_suggestions]
# Use the new scoring engine (0-10 internally → mapped to 0-100)
new_score_mechanism = true
new_score_mechanism_th_high = 9
new_score_mechanism_th_medium = 7
persistent_comment=false
auto_extended_mode=true
num_code_suggestions_per_chunk = 5
max_history_len = 4
suggestions_score_threshold=4 # [0-10]| recommend not to set this value above 8, since above it may clip highly relevant suggestions


[pr_description]
add_original_user_description = true
use_bullet_points = true
enable_large_pr_handling = true

[labeler]
enable = true
score_label_prefix = "score/"
replace_existing_score_labels = true
remove_score_labels_on_update = true
score_scale = 100
round_score_to = 0